CREATE TABLE FARMER_BATCH (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    batch_code VARCHAR2(100) UNIQUE,
    herb_name VARCHAR2(200),
    farmer_name VARCHAR2(200),
    phone VARCHAR2(50),
    gps_lat VARCHAR2(50),
    gps_lng VARCHAR2(50),
    photo_path VARCHAR2(500),
    qr_path VARCHAR2(500),
    created_at DATE DEFAULT SYSDATE
);

CREATE TABLE LAB_REPORT (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    batch_id NUMBER,
    file_path VARCHAR2(500),
    sha256_hash VARCHAR2(200),
    uploaded_at DATE DEFAULT SYSDATE,
    CONSTRAINT FK_BATCH_LAB FOREIGN KEY (batch_id) REFERENCES FARMER_BATCH(id)
);

CREATE TABLE PHARMA_STATUS (
    id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    batch_id NUMBER,
    status VARCHAR2(100),
    updated_at DATE DEFAULT SYSDATE,
    CONSTRAINT FK_BATCH_PHARMA FOREIGN KEY (batch_id) REFERENCES FARMER_BATCH(id)
);
